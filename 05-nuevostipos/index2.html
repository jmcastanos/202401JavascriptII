<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>
        let rango = {
            from: 1,
            to: 5
        };
        
        // 1. Una llamada a for..of inicializa una llamada al método Symbol.iterator
        rango[Symbol.iterator] = function () {
            // ... devuelve el objeto iterador:
            // 2. En adelante, for..of trabaja solo con el objeto iterador debajo, pidiéndole los siguientes valores
            return {
                current: this.from,
                last: this.to,
                // 3. next() es llamado en cada iteración por el bucle for..of
                next() {
                    // 4. Debe devolver el valor como un objeto {done: Boolean, value : any}
                    if (this.current <= this.last) {
                        return { done: false, value: this.current++ };
                    } else {
                        return { done: true }; //Cuando regresa true, significa que el bucle ha finalizado
                    }
                }
            };
        };
        //para utilizarlo, como se tenía pensado
        for (let num of rango) {
            console.log(num); // 1, luego 2, 3, 4, 5
        }
    </script>

</body>

</html>